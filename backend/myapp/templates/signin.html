<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In - Jobify</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/signin.css' %}">
    <link rel="stylesheet" href="{% static 'css/globals.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/static/images/favicon.png">
    <script src="https://kit.fontawesome.com/1eba5d9115.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="container">
            <!-- Website Title -->
            <div class="h2container">
                <a href="{% url 'index' %}"><i class="fa-solid fa-money-bill-wave fa-2xl" style="color:#f83c20 ; margin-right: 5px;"></i></a>
                <a href="{% url 'index' %}" style="text-decoration: none;"><h2>Jobify</h2></a>
            </div>
            <!-- Buttons Container -->
            <div class="buttons-container">
                {% if user.is_authenticated %}
                    <a href="{% url 'account' %}" style="text-decoration: none;"><button id="account">Account<i class="fa-regular fa-user" style="color: #ffffff; margin-left: 15%;"></i></button></button></a>
                    {% if user.is_staff or user.is_superuser %}
                        <a href="{% url 'admin_panel' %}" style="text-decoration: none;"><button id="admin-panel">Admin Panel <i class="fa-solid fa-toolbox" style="color: #ffffff; margin-left: 15%;"></i></button></a>
                    {% endif %}
                {% else %}
                    <a href="{% url 'postjob' %}" style="text-decoration: none;"><button id="post-job">Post a Job<i class="fa-solid fa-pencil" style="color: #ffffff; margin-left: 15%;"></i></button></a>
                {% endif %}
            </div>
        </div>
    </header>

    <!-- Main Content Section -->
    <main class="signin-main">
        <div class="form-container">
            <div id="sign-in-form-container">
                <h1>Welcome Back</h1>
                <p class="subtitle">Please enter your details to sign in</p>
                
                <!-- Sign In Form -->
                <form id="sign-in-form" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="{{ signin_form.username.id_for_label }}">Username</label>
                        {{ signin_form.username }}
                        {% if signin_form.username.errors %}
                            <div class="error">{{ signin_form.username.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="{{ signin_form.password.id_for_label }}">Password</label>
                        {{ signin_form.password }}
                        {% if signin_form.password.errors %}
                            <div class="error">{{ signin_form.password.errors }}</div>
                        {% endif %}
                    </div>
                    {% if signin_form.non_field_errors %}
                        <div class="error">{{ signin_form.non_field_errors }}</div>
                    {% endif %}
                    <button type="submit" name="signin" class="signin-button">Sign In</button>
                </form>
            </div>

            <div id="sign-up-form-container">
                <h1>Create an Account</h1>
                <p class="subtitle">Please fill in the details to sign up</p>
                
                <!-- Sign Up Form -->
                <form id="sign-up-form" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="{{ signup_form.username.id_for_label }}">Username</label>
                        {{ signup_form.username }}
                        {% if signup_form.username.errors %}
                            <div class="error">{{ signup_form.username.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="{{ signup_form.full_name.id_for_label }}">Full Name</label>
                        {{ signup_form.full_name }}
                        {% if signup_form.full_name.errors %}
                            <div class="error">{{ signup_form.full_name.errors }}</div>
                        {% endif %}
                    </div>
                    <div id = "password-group">
                        <div class="form-group">
                            <label for="{{ signup_form.email.id_for_label }}">Email</label>
                            {{ signup_form.email }}
                            {% if signup_form.email.errors %}
                                <div class="error">{{ signup_form.email.errors }}</div>
                            {% endif %}
                        </div>
                       
                        
                    </div>
                    <div id = "password-group">
                        <div class="form-group">
                            <label for="{{ signup_form.password1.id_for_label }}">Password</label>
                            {{ signup_form.password1 }}
                            {% if signup_form.password1.errors %}
                                <div class="error">{{ signup_form.password1.errors }}</div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="{{ signup_form.password2.id_for_label }}">Confirm Password</label>
                            {{ signup_form.password2 }}
                            {% if signup_form.password2.errors %}
                                <div class="error">{{ signup_form.password2.errors }}</div>
                            {% endif %}
                        </div>
                    </div>
        

                    <button type="submit" name="signup" class="signin-button">Sign Up</button>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer Section -->
    <footer>
        <div class="container">
            <p>Developed by Jack and Mohnish</p>
            <p>Terms of Service</p>
            <p>Privacy Policy</p>
            <p>Cookie Policy</p>
            <p>Ads info</p>
            <p>More</p>
            <p>Job Portal Company Details</p>
        </div>
    </footer>

    <script src="{% static 'js/signin.js' %}"></script>
    <script>
        window.embeddedChatbotConfig = {
            chatbotId: "K05nNPTlJnV2SiHKD-nqs",
            domain: "www.chatbase.co"
        }
    </script>
    <script
        src="https://www.chatbase.co/embed.min.js"
        chatbotId="K05nNPTlJnV2SiHKD-nqs"
        domain="www.chatbase.co"
        defer>
    </script>
</body>
</html>